<!DOCTYPE html>
<html xmlns:og="http://ogp.me/ns#" xmlns:th="http://www.thymeleaf.org" xmlns:pages="http://www.thymeleaf.org/pagesdialect"  xmlns="https://www.w3.org/1999/xhtml" xmlns:fb="https://www.facebook.com/2008/fbml" prefix="og: http://ogp.me/ns#">
<head>


<title th:text="${article.title}" ></title> 
<meta name="description" th:attr="content=${article.about}" >

<meta name="og:image" property="og:image" th:attr="content=${article.imageUrl}" />
<meta name="og:image" property="og:image" th:attr="content=${article.imageUrl}" >
<meta name="og:image" property="og:image" th:attr="content=${'https://drive.google.com/uc?id=1jVjDJU9kgkOv_85u3AdVcmTTVXaTIxdM'}" >



<meta charset="utf-8">
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no">


<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>



<link
	href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700"
	rel="stylesheet">
<link
	href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700"
	rel="stylesheet">

<link rel="stylesheet" href="/css/rsa.css">

<link rel="stylesheet" href="/css/open-iconic-bootstrap.min.css">
<link rel="stylesheet" href="/css/animate.css">

<link rel="stylesheet" href="/css/owl.carousel.min.css">
<link rel="stylesheet" href="/css/owl.theme.default.min.css">
<link rel="stylesheet" href="/css/magnific-popup.css">

<link rel="stylesheet" href="/css/aos.css">

<link rel="stylesheet" href="/css/ionicons.min.css">

<link rel="stylesheet" href="/css/bootstrap-datepicker.css">
<link rel="stylesheet" href="/css/jquery.timepicker.css">


<link rel="stylesheet" href="/css/flaticon.css">
<link rel="stylesheet" href="/css/icomoon.css">
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/index.css">

<link
	th:href="@{//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css}"
	rel="stylesheet" id="bootstrap-css">
<script
	th:src="@{//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js}"></script>
<script
	th:src="@{//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js}"></script>

<link
	th:href="@{https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}"
	rel="stylesheet"
	integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
	crossorigin="anonymous">

<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">


<script type="text/x-mathjax-config">
MathJax.Hub.Config({

  CommonHTML: { linebreaks: { automatic: true } },
  "HTML-CSS": { linebreaks: { automatic: true } },
         SVG: { linebreaks: { automatic: true } }
});
</script>

<script type="text/x-mathjax-config"> 
MathJax.Hub.Config({ 
  TeX: { 
    Macros: { 
      goodbreak: '\\mmlToken{mo}[linebreak="goodbreak"]{}', 
      badbreak: ['\\mmlToken{mo}[linebreak="nobreak"]{#1}',1], 
      nobreak: ['\\mmlToken{mo}[linebreak="nobreak"]{#1}',1], 
      invisibletimes: ['\\mmlToken{mo}{\u2062}'] 
    } 
  } 
}); 
</script>
<script type="text/javascript" async
	src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML">
	
</script>

<script src="https://cdn.ckeditor.com/4.11.4/full/ckeditor.js"></script>


</head>
<body>

	<div id="colorlib-page">
		<a href="#" class="js-colorlib-nav-toggle colorlib-nav-toggle"><i></i></a>
		<aside id="colorlib-aside" role="complementary"
			class="js-fullheight text-center">
			<h1 id="colorlib-logo">
				<a href="/">Kiber Bloq<span></span></a>
			</h1>
			<nav id="colorlib-main-menu" role="navigation">
				<ul>
					<li><a href="/">Home</a></li>
					<div sec:authorize="hasRole('ROLE_ADMIN')">
						<li><a href="/admin">Admin Panel</a></li>
					</div>

					<li><a href="/p/projects">My Projects</a></li>
					<li><a href="/p/about">About</a></li>
					<li><a href="/p/contact">Contact</a></li>


					<div sec:authorize="!isAuthenticated()">
						<li><a href="/login">Log in</a></li>
					</div>

					<div sec:authorize="isAuthenticated()">
						<li>
							<form th:action="@{/logout}" method="POST">
								<input type="submit" class="submitLink" value="Logout">
								<input type="hidden" name="${_csrf.parameterName}"
									value="_csrf.token">
							</form>

						</li>

					</div>
				</ul>

			</nav>
			<div class="colorlib-footer">
				<p>
					Copyright &copy;
					<script>
						document.write(new Date().getFullYear());
					</script>
					All rights reserved
				<ul>
					<li><a href="#"><i class="icon-facebook"></i></a></li>
					<li><a href="#"><i class="icon-twitter"></i></a></li>
					<li><a href="#"><i class="icon-instagram"></i></a></li>
					<li><a href="#"><i class="icon-linkedin"></i></a></li>
				</ul>
			</div>
		</aside>
		<!-- END COLORLIB-ASIDE -->
		<div id="colorlib-main">
			<div class="hero-wrap js-fullheight"
				th:style="'background-image:url('+${article.imageUrl}+');'"
				data-stellar-background-ratio="0.5">
				<div class="overlay"></div>
				<div
					class="js-fullheight d-flex justify-content-center align-items-center">
					<div class="col-md-8 text text-center">
						<div class="desc">
							<h1 class="mb-4">
								<span th:text="${article.title}" />
							</h1>

						</div>
					</div>
				</div>
			</div>
			<section class="ftco-section">
				<div class="container">

					<div class="row">
						<div class="col-lg-8 ">

							<p class="box">
								Read: <span class="col_1" th:if="${article?.hit != null}"
									th:text="${article.hit}" /> <a class="align"> Author: <span
									class="col_1"
									th:text="${article?.user?.firstName +' '+ article?.user?.lastName}" />

								</a>
							</p>
							<div sec:authorize="hasRole('ROLE_EDITOR')">

								<span class="box_3">
									<button onclick="myFunction2()" class="admin-button">
										Delete <span class="glyphicon glyphicon-remove"></span>

									</button>

									<form id="myForm" action="#"
										th:action="@{'/articles/delete/' + ${article.id}}"
										method="post" enctype="multipart/form-data">
									</form>
										
										
										 <script>
											function myFunction2() {

												if (confirm("Are you sure delete this article?")) {

													document.getElementById(
															"myForm").submit();
												} else {

												}
											}
										</script>
								</span> 								

								<span class="box_2"> <a
									th:href="@{'/articles/update/' + ${article.id}}">
										<button class="admin-button">
											Edit <i class="fa fa-edit"></i>
										</button>
								</a>
								</span> </br>
							</div>
							</br>
							
							
							<span th:utext="${testPath}"> </span>

							<!-- Article begin here-->
							<span th:utext="${article.body}"> </span>
							<!-- Article end here-->

							<div class="pt-5 mt-5">
								<div class="comment-form-wrap pt-5">
									<h3 class="mb-5">Leave a comment</h3>

									<form name="form1" action="#" th:action="@{/p/sendComment}"
										th:object="${comment}" method="post"
										class="p-3 p-md-5 bg-light" onsubmit="return dateCheck()">

										<div class="form-group">

											<input type="hidden" th:value="${article.id}"
												th:attr="name='article.id'" /> <input type="hidden"
												th:value="${article.url}" th:attr="name='article.url'" /> <input
												type="hidden" th:value="${#dates.formatISO(standardDate)}"
												th:attr="name='commentDate'" /> <label for="name">Name*</label>
											<input id="name" type="text" class="form-control"
												th:field="*{name}">
											<p id="name_" style="color: red"></p>
										</div>


										<div class="form-group">
											<label for="email">Email *</label> <input id="email"
												type="email" class="form-control" th:field="*{email}">
											<p id="email_" style="color: red"></p>

										</div>
										<div class="form-group">
											<label for="webSite">Website</label> <input type="url"
												class="form-control" th:field="*{webSite}">
										</div>
										<div class="form-group">
											<label for="comment">Message*</label>

											<textarea id="text" th:field="*{comment}" cols="30" rows="10"
												class="form-control"></textarea>
											<p id="text_" style="color: red"></p>

										</div>
										<div class="form-group">
											<input type="submit" value="Post Comment"
												onclick="myFunction()" class="btn py-3 px-4 btn-primary">
										</div>


										<div th:if="${message} != null" id="success"
											class="alert alert-success">
											<strong>Successful!</strong> Your comment will be added after
											checking.
											
										</div>


									</form>

								</div>
							</div>


							<!-- Commen Box Start -->


							<div class="container">



								<th:block th:each="comment :${comments}">
									<tr
										th:if="${comment.article.id} == ${article.id} AND ${comment.accept} == 1">
										<div class="card">
											<div class="card-body">
												<div class="row">
													<div class="col-md-2">
														<img src="https://image.ibb.co/jw55Ex/def_face.jpg"
															class="img img-rounded img-fluid" />
														<p class="text-secondary text-center">
															<p
															th:text="${
													#dates.day(comment.commentDate) +' '+ 
													#dates.monthNameShort(comment.commentDate) +' '+
													#dates.year(comment.commentDate)}">
														</p>

														</p>
													</div>
													<div class="col-md-10">
														<p>
															<a class="float-left"><strong><td
																	th:text="${comment.name}" /> </strong></a> <span
																class="float-right"><i
																class="text-warning fa fa-star"></i></span> <span
																class="float-right"><i
																class="text-warning fa fa-star"></i></span> <span
																class="float-right"><i
																class="text-warning fa fa-star"></i></span> <span
																class="float-right"><i
																class="text-warning fa fa-star"></i></span>

														</p>
														<div class="clearfix"></div>
														<p>
															<td th:text="${comment.comment}" />
														</p>
														<p>
															<a class="float-right btn text-white btn-danger"><i
																class="fa fa-heart"></i> Like</a>
														</p>
													</div>
												</div>
											</div>
										</div>
									</tr>
								</th:block>

							</div>


							<!-- Comment Box End -->

						</div>
						<!-- .col-md-8 -->
						<div class="col-lg-4 sidebar ftco-animate">


							<div class="sidebar-box ftco-animate">
								<h3 class="sidebar-heading">Last Comments</h3>
								<ul class="categories">
									<li><a href="#">Article Whatever<span>by Namiq</span></a></li>
									<li><a href="#">Article Whatever<span>by Namiq</span></a></li>
									<li><a href="#">Article Whatever<span>by Namiq</span></a></li>
									<li><a href="#">Article Whatever<span>by Namiq</span></a></li>
								</ul>
							</div>




						</div>
						<!-- END COL -->
					</div>
				</div>
			</section>
			<footer class="ftco-footer ftco-bg-dark ftco-section">
				<div class="container px-md-5">
					<div class="row mb-5">
						<div class="col-md">
							<div class="ftco-footer-widget mb-4">
								<h2 class="ftco-heading-2">Have a Questions?</h2>
								<div class="block-23 mb-3">
									<ul>
										<li><span class="icon icon-map-marker"></span><span
											class="text">Baku, Azerbaijan</span></li>
										<li><a href="#"><span class="icon icon-phone"></span>+
												994 77 641 09 18</a></li>
										<li><a href="#"><span class="icon icon-envelope"></span>namiqbayramov14@gmail.com</a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-12">

							<p>
								<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
								Copyright &copy;
								<script>
									document.write(new Date().getFullYear());
								</script>
															All rights reserved
															<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
														</p>
														
														
														
														
						
						
						
						
						</div>
					</div>
				</div>
			</footer>
		</div>
		<!-- END COLORLIB-MAIN -->
	</div>
	<!-- END COLORLIB-PAGE -->

	<!-- loader -->
	<div id="ftco-loader" class="show fullscreen">
		<svg class="circular" width="48px" height="48px">
			<circle class="path-bg" cx="24" cy="24" r="22" fill="none"
				stroke-width="4" stroke="#eeeeee" />
			<circle class="path" cx="24" cy="24" r="22" fill="none"
				stroke-width="4" stroke-miterlimit="10" stroke="#F96D00" /></svg>
	</div>
	<script src="/js/rsaPage.js"></script>
	<script src="/js/jquery.min.js"></script>
	<script src="/js/jquery-migrate-3.0.1.min.js"></script>
	<script src="/js/popper.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/jquery.easing.1.3.js"></script>
	<script src="/js/jquery.waypoints.min.js"></script>
	<script src="/js/jquery.stellar.min.js"></script>
	<script src="/js/owl.carousel.min.js"></script>
	<script src="/js/jquery.magnific-popup.min.js"></script>
	<script src="/js/aos.js"></script>
	<script src="/js/jquery.animateNumber.min.js"></script>
	<script src="/js/bootstrap-datepicker.js"></script>
	<script src="/js/jquery.timepicker.min.js"></script>
	<script src="/js/scrollax.min.js"></script>
	<script
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
	<script src="/js/google-map.js"></script>
	<script src="/js/main.js"></script>
</body>
</html>